<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietnam Cities/Provinces</title>
    <script src="polygonData.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, sans-serif;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: #f4f4f4;
            padding: 20px;
            border-right: 1px solid #ddd;
        }

        .sidebar h2 {
            margin-bottom: 20px;
        }

        .territory {
            position: relative;
            padding: 10px;
            cursor: pointer;
        }

        .territory:hover .sub-region {
            display: block;
        }

        .sub-region {
            display: none;
            position: absolute;
            left: 100%;
            top: 0;
            width: 200px;
            padding: 10px;
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            z-index: 1;
        }

        .sub-region li {
            padding: 5px;
            cursor: pointer;
        }

        .sub-region li:hover {
            background-color: #ddd;
        }

        .reset-map {
            background-color: grey;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            cursor: pointer;
        }

        .reset-map:hover {
            background-color: darkgray;
        }

        .map {
            flex-grow: 1;
            height: 100%;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        let map;
        let markers = [];
        let cityPolygon;
        const geoData = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    105.7652,
                                    20.5755
                                ],
                                [
                                    105.769,
                                    20.5645
                                ],
                                [
                                    105.7951,
                                    20.5676
                                ],
                                [
                                    105.7964,
                                    20.5696
                                ],
                                [
                                    105.8006,
                                    20.5845
                                ],
                                [
                                    105.8011,
                                    20.5927
                                ],
                                [
                                    105.8058,
                                    20.6003
                                ],
                                [
                                    105.8074,
                                    20.6066
                                ],
                                [
                                    105.806,
                                    20.6108
                                ],
                                [
                                    105.8129,
                                    20.6176
                                ],
                                [
                                    105.8111,
                                    20.6278
                                ],
                                [
                                    105.8133,
                                    20.6337
                                ],
                                [
                                    105.8308,
                                    20.6439
                                ],
                                [
                                    105.8336,
                                    20.6471
                                ],
                                [
                                    105.8337,
                                    20.6492
                                ],
                                [
                                    105.8265,
                                    20.6527
                                ],
                                [
                                    105.8187,
                                    20.6605
                                ],
                                [
                                    105.8223,
                                    20.6621
                                ],
                                [
                                    105.8223,
                                    20.6645
                                ],
                                [
                                    105.8408,
                                    20.6592
                                ],
                                [
                                    105.84,
                                    20.6567
                                ],
                                [
                                    105.8437,
                                    20.6548
                                ],
                                [
                                    105.8455,
                                    20.6568
                                ],
                                [
                                    105.8545,
                                    20.6465
                                ],
                                [
                                    105.8586,
                                    20.6448
                                ],
                                [
                                    105.867,
                                    20.6454
                                ],
                                [
                                    105.8771,
                                    20.6431
                                ],
                                [
                                    105.8912,
                                    20.6482
                                ],
                                [
                                    105.8964,
                                    20.6522
                                ],
                                [
                                    105.8962,
                                    20.6688
                                ],
                                [
                                    105.903,
                                    20.6648
                                ],
                                [
                                    105.9052,
                                    20.6651
                                ],
                                [
                                    105.9054,
                                    20.6684
                                ],
                                [
                                    105.9183,
                                    20.6737
                                ],
                                [
                                    105.9197,
                                    20.6759
                                ],
                                [
                                    105.9327,
                                    20.6801
                                ],
                                [
                                    105.9437,
                                    20.682
                                ],
                                [
                                    105.9457,
                                    20.6798
                                ],
                                [
                                    105.9468,
                                    20.6682
                                ],
                                [
                                    105.9433,
                                    20.6627
                                ],
                                [
                                    105.9438,
                                    20.6579
                                ],
                                [
                                    105.9452,
                                    20.6551
                                ],
                                [
                                    105.958,
                                    20.6508
                                ],
                                [
                                    105.9571,
                                    20.6566
                                ],
                                [
                                    105.96,
                                    20.6607
                                ],
                                [
                                    105.9672,
                                    20.6648
                                ],
                                [
                                    105.9776,
                                    20.6657
                                ],
                                [
                                    105.9784,
                                    20.6737
                                ],
                                [
                                    105.9848,
                                    20.6805
                                ],
                                [
                                    105.9888,
                                    20.6826
                                ],
                                [
                                    105.9932,
                                    20.6821
                                ],
                                [
                                    105.9945,
                                    20.681
                                ],
                                [
                                    105.9923,
                                    20.6787
                                ],
                                [
                                    105.9947,
                                    20.6773
                                ],
                                [
                                    105.9975,
                                    20.6784
                                ],
                                [
                                    105.9941,
                                    20.6833
                                ],
                                [
                                    105.9949,
                                    20.6856
                                ],
                                [
                                    105.9921,
                                    20.6857
                                ],
                                [
                                    105.9907,
                                    20.6893
                                ],
                                [
                                    105.9979,
                                    20.6923
                                ],
                                [
                                    105.9958,
                                    20.6975
                                ],
                                [
                                    106.0028,
                                    20.7015
                                ],
                                [
                                    106.0033,
                                    20.7038
                                ],
                                [
                                    105.9918,
                                    20.7039
                                ],
                                [
                                    105.9792,
                                    20.6989
                                ],
                                [
                                    105.9744,
                                    20.6995
                                ],
                                [
                                    105.9664,
                                    20.71
                                ],
                                [
                                    105.962,
                                    20.7234
                                ],
                                [
                                    105.9624,
                                    20.7272
                                ],
                                [
                                    105.9657,
                                    20.73
                                ],
                                [
                                    105.9658,
                                    20.7318
                                ],
                                [
                                    105.9701,
                                    20.7346
                                ],
                                [
                                    105.9677,
                                    20.7505
                                ],
                                [
                                    105.9695,
                                    20.7695
                                ],
                                [
                                    105.9664,
                                    20.7755
                                ],
                                [
                                    105.9575,
                                    20.7801
                                ],
                                [
                                    105.9374,
                                    20.7833
                                ],
                                [
                                    105.9285,
                                    20.7862
                                ],
                                [
                                    105.922,
                                    20.7926
                                ],
                                [
                                    105.9164,
                                    20.8047
                                ],
                                [
                                    105.9116,
                                    20.8213
                                ],
                                [
                                    105.9127,
                                    20.8349
                                ],
                                [
                                    105.919,
                                    20.8435
                                ],
                                [
                                    105.932,
                                    20.8501
                                ],
                                [
                                    105.9361,
                                    20.8561
                                ],
                                [
                                    105.9354,
                                    20.8686
                                ],
                                [
                                    105.9313,
                                    20.8741
                                ],
                                [
                                    105.9249,
                                    20.8782
                                ],
                                [
                                    105.8983,
                                    20.8909
                                ],
                                [
                                    105.8947,
                                    20.8978
                                ],
                                [
                                    105.8958,
                                    20.9013
                                ],
                                [
                                    105.9132,
                                    20.9148
                                ],
                                [
                                    105.9163,
                                    20.9192
                                ],
                                [
                                    105.9162,
                                    20.9212
                                ],
                                [
                                    105.9091,
                                    20.9265
                                ],
                                [
                                    105.9152,
                                    20.9371
                                ],
                                [
                                    105.9036,
                                    20.9472
                                ],
                                [
                                    105.9089,
                                    20.9625
                                ],
                                [
                                    105.9158,
                                    20.9751
                                ],
                                [
                                    105.9232,
                                    20.9746
                                ],
                                [
                                    105.9245,
                                    20.9757
                                ],
                                [
                                    105.9302,
                                    20.9725
                                ],
                                [
                                    105.9323,
                                    20.9735
                                ],
                                [
                                    105.9384,
                                    20.9694
                                ],
                                [
                                    105.9386,
                                    20.9677
                                ],
                                [
                                    105.9486,
                                    20.9695
                                ],
                                [
                                    105.9488,
                                    20.9676
                                ],
                                [
                                    105.9552,
                                    20.9681
                                ],
                                [
                                    105.955,
                                    20.9662
                                ],
                                [
                                    105.9568,
                                    20.9675
                                ],
                                [
                                    105.9566,
                                    20.966
                                ],
                                [
                                    105.9591,
                                    20.966
                                ],
                                [
                                    105.9606,
                                    20.9636
                                ],
                                [
                                    105.9645,
                                    20.9634
                                ],
                                [
                                    105.9652,
                                    20.9725
                                ],
                                [
                                    105.9618,
                                    20.9759
                                ],
                                [
                                    105.9635,
                                    20.9802
                                ],
                                [
                                    105.9623,
                                    20.9815
                                ],
                                [
                                    105.9656,
                                    20.985
                                ],
                                [
                                    105.9645,
                                    20.9845
                                ],
                                [
                                    105.9621,
                                    20.9892
                                ],
                                [
                                    105.967,
                                    20.991
                                ],
                                [
                                    105.9692,
                                    20.9886
                                ],
                                [
                                    105.9724,
                                    20.9897
                                ],
                                [
                                    105.9712,
                                    20.9952
                                ],
                                [
                                    105.9777,
                                    20.9994
                                ],
                                [
                                    105.9852,
                                    20.9968
                                ],
                                [
                                    105.99,
                                    20.9983
                                ],
                                [
                                    105.9919,
                                    21.001
                                ],
                                [
                                    105.9999,
                                    20.9993
                                ],
                                [
                                    106.0012,
                                    21.0003
                                ],
                                [
                                    105.9991,
                                    21.0066
                                ],
                                [
                                    106.0085,
                                    21.0082
                                ],
                                [
                                    106.0104,
                                    21.0108
                                ],
                                [
                                    106.0097,
                                    21.0124
                                ],
                                [
                                    106.0045,
                                    21.0117
                                ],
                                [
                                    106.0062,
                                    21.0151
                                ],
                                [
                                    106.0037,
                                    21.0171
                                ],
                                [
                                    106.0046,
                                    21.022
                                ],
                                [
                                    106.0095,
                                    21.0243
                                ],
                                [
                                    106.0065,
                                    21.0289
                                ],
                                [
                                    106.0129,
                                    21.0304
                                ],
                                [
                                    106.0201,
                                    21.0414
                                ],
                                [
                                    106.02,
                                    21.0475
                                ],
                                [
                                    106.014,
                                    21.0509
                                ],
                                [
                                    106.0154,
                                    21.0528
                                ],
                                [
                                    106.0138,
                                    21.0537
                                ],
                                [
                                    106.0144,
                                    21.0559
                                ],
                                [
                                    106.0101,
                                    21.0572
                                ],
                                [
                                    106.0082,
                                    21.0555
                                ],
                                [
                                    106.0071,
                                    21.0577
                                ],
                                [
                                    106.0098,
                                    21.0621
                                ],
                                [
                                    106.0091,
                                    21.0637
                                ],
                                [
                                    106.0067,
                                    21.0631
                                ],
                                [
                                    106.0012,
                                    21.0691
                                ],
                                [
                                    105.9995,
                                    21.0745
                                ],
                                [
                                    105.9936,
                                    21.069
                                ],
                                [
                                    105.9684,
                                    21.0721
                                ],
                                [
                                    105.9689,
                                    21.0736
                                ],
                                [
                                    105.962,
                                    21.0779
                                ],
                                [
                                    105.9599,
                                    21.0883
                                ],
                                [
                                    105.9579,
                                    21.0913
                                ],
                                [
                                    105.9402,
                                    21.0834
                                ],
                                [
                                    105.9397,
                                    21.0879
                                ],
                                [
                                    105.9409,
                                    21.089
                                ],
                                [
                                    105.9346,
                                    21.0966
                                ],
                                [
                                    105.9364,
                                    21.1016
                                ],
                                [
                                    105.9342,
                                    21.1029
                                ],
                                [
                                    105.9342,
                                    21.1059
                                ],
                                [
                                    105.9309,
                                    21.1088
                                ],
                                [
                                    105.9294,
                                    21.1126
                                ],
                                [
                                    105.9272,
                                    21.1118
                                ],
                                [
                                    105.9214,
                                    21.1167
                                ],
                                [
                                    105.9242,
                                    21.1206
                                ],
                                [
                                    105.9226,
                                    21.1215
                                ],
                                [
                                    105.9215,
                                    21.1186
                                ],
                                [
                                    105.9156,
                                    21.119
                                ],
                                [
                                    105.9156,
                                    21.1221
                                ],
                                [
                                    105.9128,
                                    21.1265
                                ],
                                [
                                    105.9193,
                                    21.1299
                                ],
                                [
                                    105.9178,
                                    21.132
                                ],
                                [
                                    105.9219,
                                    21.1354
                                ],
                                [
                                    105.9229,
                                    21.1339
                                ],
                                [
                                    105.9252,
                                    21.1345
                                ],
                                [
                                    105.9238,
                                    21.1382
                                ],
                                [
                                    105.9263,
                                    21.1403
                                ],
                                [
                                    105.9251,
                                    21.1416
                                ],
                                [
                                    105.9264,
                                    21.1445
                                ],
                                [
                                    105.9256,
                                    21.147
                                ],
                                [
                                    105.9234,
                                    21.1473
                                ],
                                [
                                    105.9195,
                                    21.1554
                                ],
                                [
                                    105.9229,
                                    21.1628
                                ],
                                [
                                    105.9193,
                                    21.1632
                                ],
                                [
                                    105.9169,
                                    21.1716
                                ],
                                [
                                    105.9182,
                                    21.1716
                                ],
                                [
                                    105.9181,
                                    21.1736
                                ],
                                [
                                    105.9212,
                                    21.1737
                                ],
                                [
                                    105.9216,
                                    21.177
                                ],
                                [
                                    105.9202,
                                    21.1783
                                ],
                                [
                                    105.9237,
                                    21.1827
                                ],
                                [
                                    105.9152,
                                    21.1873
                                ],
                                [
                                    105.916,
                                    21.1888
                                ],
                                [
                                    105.9124,
                                    21.1902
                                ],
                                [
                                    105.9122,
                                    21.1923
                                ],
                                [
                                    105.9071,
                                    21.1924
                                ],
                                [
                                    105.9026,
                                    21.2012
                                ],
                                [
                                    105.9041,
                                    21.2025
                                ],
                                [
                                    105.9112,
                                    21.2012
                                ],
                                [
                                    105.9137,
                                    21.2034
                                ],
                                [
                                    105.9099,
                                    21.2073
                                ],
                                [
                                    105.9156,
                                    21.2094
                                ],
                                [
                                    105.9145,
                                    21.2182
                                ],
                                [
                                    105.9105,
                                    21.2244
                                ],
                                [
                                    105.905,
                                    21.2224
                                ],
                                [
                                    105.9036,
                                    21.2238
                                ],
                                [
                                    105.9043,
                                    21.2274
                                ],
                                [
                                    105.9066,
                                    21.2292
                                ],
                                [
                                    105.9052,
                                    21.2306
                                ],
                                [
                                    105.9065,
                                    21.2323
                                ],
                                [
                                    105.9193,
                                    21.231
                                ],
                                [
                                    105.9204,
                                    21.2342
                                ],
                                [
                                    105.9276,
                                    21.2393
                                ],
                                [
                                    105.9263,
                                    21.2447
                                ],
                                [
                                    105.935,
                                    21.2454
                                ],
                                [
                                    105.9374,
                                    21.2432
                                ],
                                [
                                    105.9386,
                                    21.2451
                                ],
                                [
                                    105.923,
                                    21.2694
                                ],
                                [
                                    105.9221,
                                    21.2782
                                ],
                                [
                                    105.9232,
                                    21.2876
                                ],
                                [
                                    105.9303,
                                    21.2914
                                ],
                                [
                                    105.9308,
                                    21.2949
                                ],
                                [
                                    105.9163,
                                    21.295
                                ],
                                [
                                    105.9152,
                                    21.2971
                                ],
                                [
                                    105.9175,
                                    21.3041
                                ],
                                [
                                    105.9165,
                                    21.3056
                                ],
                                [
                                    105.9089,
                                    21.3016
                                ],
                                [
                                    105.9046,
                                    21.302
                                ],
                                [
                                    105.8976,
                                    21.3071
                                ],
                                [
                                    105.8995,
                                    21.3241
                                ],
                                [
                                    105.8979,
                                    21.3271
                                ],
                                [
                                    105.8895,
                                    21.3253
                                ],
                                [
                                    105.8717,
                                    21.3297
                                ],
                                [
                                    105.8686,
                                    21.3268
                                ],
                                [
                                    105.8668,
                                    21.3283
                                ],
                                [
                                    105.863,
                                    21.338
                                ],
                                [
                                    105.8586,
                                    21.3382
                                ],
                                [
                                    105.8556,
                                    21.3428
                                ],
                                [
                                    105.8567,
                                    21.3459
                                ],
                                [
                                    105.8589,
                                    21.3457
                                ],
                                [
                                    105.8524,
                                    21.3491
                                ],
                                [
                                    105.8547,
                                    21.3523
                                ],
                                [
                                    105.8517,
                                    21.3555
                                ],
                                [
                                    105.8516,
                                    21.3576
                                ],
                                [
                                    105.8532,
                                    21.3591
                                ],
                                [
                                    105.8546,
                                    21.3676
                                ],
                                [
                                    105.8592,
                                    21.3666
                                ],
                                [
                                    105.8577,
                                    21.3711
                                ],
                                [
                                    105.8589,
                                    21.3742
                                ],
                                [
                                    105.8562,
                                    21.3765
                                ],
                                [
                                    105.8494,
                                    21.3743
                                ],
                                [
                                    105.8472,
                                    21.3774
                                ],
                                [
                                    105.8397,
                                    21.3774
                                ],
                                [
                                    105.8352,
                                    21.3733
                                ],
                                [
                                    105.832,
                                    21.3733
                                ],
                                [
                                    105.8303,
                                    21.3757
                                ],
                                [
                                    105.8214,
                                    21.378
                                ],
                                [
                                    105.8164,
                                    21.383
                                ],
                                [
                                    105.8138,
                                    21.3828
                                ],
                                [
                                    105.8127,
                                    21.3804
                                ],
                                [
                                    105.8012,
                                    21.3852
                                ],
                                [
                                    105.7996,
                                    21.3819
                                ],
                                [
                                    105.7966,
                                    21.3827
                                ],
                                [
                                    105.7967,
                                    21.3809
                                ],
                                [
                                    105.788,
                                    21.3757
                                ],
                                [
                                    105.7901,
                                    21.3733
                                ],
                                [
                                    105.7873,
                                    21.3711
                                ],
                                [
                                    105.7846,
                                    21.3597
                                ],
                                [
                                    105.7861,
                                    21.3547
                                ],
                                [
                                    105.783,
                                    21.3538
                                ],
                                [
                                    105.7852,
                                    21.3429
                                ],
                                [
                                    105.7832,
                                    21.3429
                                ],
                                [
                                    105.7762,
                                    21.3371
                                ],
                                [
                                    105.772,
                                    21.3255
                                ],
                                [
                                    105.7676,
                                    21.3183
                                ],
                                [
                                    105.7623,
                                    21.3134
                                ],
                                [
                                    105.757,
                                    21.3005
                                ],
                                [
                                    105.7529,
                                    21.2973
                                ],
                                [
                                    105.7533,
                                    21.2949
                                ],
                                [
                                    105.7495,
                                    21.2959
                                ],
                                [
                                    105.7456,
                                    21.2945
                                ],
                                [
                                    105.7451,
                                    21.2919
                                ],
                                [
                                    105.7432,
                                    21.2929
                                ],
                                [
                                    105.7429,
                                    21.2902
                                ],
                                [
                                    105.7409,
                                    21.2906
                                ],
                                [
                                    105.7427,
                                    21.289
                                ],
                                [
                                    105.742,
                                    21.2872
                                ],
                                [
                                    105.7397,
                                    21.2878
                                ],
                                [
                                    105.7395,
                                    21.2866
                                ],
                                [
                                    105.7382,
                                    21.2881
                                ],
                                [
                                    105.7364,
                                    21.2867
                                ],
                                [
                                    105.737,
                                    21.2857
                                ],
                                [
                                    105.7352,
                                    21.2843
                                ],
                                [
                                    105.7361,
                                    21.2795
                                ],
                                [
                                    105.7335,
                                    21.2794
                                ],
                                [
                                    105.7326,
                                    21.275
                                ],
                                [
                                    105.7291,
                                    21.2759
                                ],
                                [
                                    105.7279,
                                    21.2729
                                ],
                                [
                                    105.7252,
                                    21.2724
                                ],
                                [
                                    105.7292,
                                    21.2691
                                ],
                                [
                                    105.7228,
                                    21.2661
                                ],
                                [
                                    105.7248,
                                    21.2581
                                ],
                                [
                                    105.7234,
                                    21.2507
                                ],
                                [
                                    105.7292,
                                    21.2489
                                ],
                                [
                                    105.7251,
                                    21.2423
                                ],
                                [
                                    105.7286,
                                    21.2407
                                ],
                                [
                                    105.7343,
                                    21.2417
                                ],
                                [
                                    105.7362,
                                    21.2401
                                ],
                                [
                                    105.7368,
                                    21.2353
                                ],
                                [
                                    105.73,
                                    21.2383
                                ],
                                [
                                    105.7351,
                                    21.2329
                                ],
                                [
                                    105.7243,
                                    21.2253
                                ],
                                [
                                    105.7197,
                                    21.23
                                ],
                                [
                                    105.7185,
                                    21.2288
                                ],
                                [
                                    105.7197,
                                    21.2277
                                ],
                                [
                                    105.7187,
                                    21.2235
                                ],
                                [
                                    105.7156,
                                    21.2247
                                ],
                                [
                                    105.7092,
                                    21.2198
                                ],
                                [
                                    105.7033,
                                    21.2213
                                ],
                                [
                                    105.7019,
                                    21.2186
                                ],
                                [
                                    105.7007,
                                    21.2206
                                ],
                                [
                                    105.6986,
                                    21.2199
                                ],
                                [
                                    105.6974,
                                    21.2186
                                ],
                                [
                                    105.6982,
                                    21.2133
                                ],
                                [
                                    105.6935,
                                    21.2215
                                ],
                                [
                                    105.6903,
                                    21.2198
                                ],
                                [
                                    105.6884,
                                    21.222
                                ],
                                [
                                    105.6861,
                                    21.2263
                                ],
                                [
                                    105.6873,
                                    21.2305
                                ],
                                [
                                    105.6826,
                                    21.2302
                                ],
                                [
                                    105.6835,
                                    21.2318
                                ],
                                [
                                    105.6887,
                                    21.2325
                                ],
                                [
                                    105.6887,
                                    21.2342
                                ],
                                [
                                    105.6853,
                                    21.2354
                                ],
                                [
                                    105.6814,
                                    21.2347
                                ],
                                [
                                    105.6793,
                                    21.2292
                                ],
                                [
                                    105.6766,
                                    21.2269
                                ],
                                [
                                    105.6714,
                                    21.2304
                                ],
                                [
                                    105.6754,
                                    21.2342
                                ],
                                [
                                    105.6749,
                                    21.2362
                                ],
                                [
                                    105.6737,
                                    21.2366
                                ],
                                [
                                    105.6716,
                                    21.2332
                                ],
                                [
                                    105.6688,
                                    21.2332
                                ],
                                [
                                    105.667,
                                    21.2396
                                ],
                                [
                                    105.6617,
                                    21.235
                                ],
                                [
                                    105.6568,
                                    21.2347
                                ],
                                [
                                    105.6519,
                                    21.2381
                                ],
                                [
                                    105.6474,
                                    21.2365
                                ],
                                [
                                    105.6443,
                                    21.2337
                                ],
                                [
                                    105.6454,
                                    21.2271
                                ],
                                [
                                    105.6517,
                                    21.2258
                                ],
                                [
                                    105.6545,
                                    21.2276
                                ],
                                [
                                    105.659,
                                    21.2232
                                ],
                                [
                                    105.6582,
                                    21.2204
                                ],
                                [
                                    105.6451,
                                    21.2156
                                ],
                                [
                                    105.6358,
                                    21.2173
                                ],
                                [
                                    105.6368,
                                    21.214
                                ],
                                [
                                    105.6395,
                                    21.2118
                                ],
                                [
                                    105.6387,
                                    21.2073
                                ],
                                [
                                    105.6291,
                                    21.2107
                                ],
                                [
                                    105.6212,
                                    21.2059
                                ],
                                [
                                    105.6169,
                                    21.2087
                                ],
                                [
                                    105.6152,
                                    21.2076
                                ],
                                [
                                    105.6166,
                                    21.2025
                                ],
                                [
                                    105.6228,
                                    21.1999
                                ],
                                [
                                    105.6217,
                                    21.1948
                                ],
                                [
                                    105.6241,
                                    21.1938
                                ],
                                [
                                    105.6249,
                                    21.1882
                                ],
                                [
                                    105.6298,
                                    21.1841
                                ],
                                [
                                    105.6281,
                                    21.1807
                                ],
                                [
                                    105.6244,
                                    21.1807
                                ],
                                [
                                    105.6267,
                                    21.1778
                                ],
                                [
                                    105.6258,
                                    21.1755
                                ],
                                [
                                    105.6173,
                                    21.1791
                                ],
                                [
                                    105.605,
                                    21.1745
                                ],
                                [
                                    105.6,
                                    21.1696
                                ],
                                [
                                    105.5759,
                                    21.1644
                                ],
                                [
                                    105.5761,
                                    21.1626
                                ],
                                [
                                    105.5709,
                                    21.1606
                                ],
                                [
                                    105.5278,
                                    21.1542
                                ],
                                [
                                    105.4947,
                                    21.1599
                                ],
                                [
                                    105.4862,
                                    21.163
                                ],
                                [
                                    105.4751,
                                    21.1726
                                ],
                                [
                                    105.468,
                                    21.1828
                                ],
                                [
                                    105.4652,
                                    21.2105
                                ],
                                [
                                    105.4621,
                                    21.2227
                                ],
                                [
                                    105.4522,
                                    21.238
                                ],
                                [
                                    105.4475,
                                    21.2506
                                ],
                                [
                                    105.4437,
                                    21.2697
                                ],
                                [
                                    105.4316,
                                    21.2743
                                ],
                                [
                                    105.4058,
                                    21.2991
                                ],
                                [
                                    105.394,
                                    21.3033
                                ],
                                [
                                    105.3868,
                                    21.3015
                                ],
                                [
                                    105.3787,
                                    21.2922
                                ],
                                [
                                    105.3615,
                                    21.2837
                                ],
                                [
                                    105.3567,
                                    21.2781
                                ],
                                [
                                    105.356,
                                    21.2602
                                ],
                                [
                                    105.35,
                                    21.2324
                                ],
                                [
                                    105.3464,
                                    21.2245
                                ],
                                [
                                    105.3328,
                                    21.2135
                                ],
                                [
                                    105.3252,
                                    21.2047
                                ],
                                [
                                    105.3041,
                                    21.1905
                                ],
                                [
                                    105.2971,
                                    21.1841
                                ],
                                [
                                    105.2891,
                                    21.1703
                                ],
                                [
                                    105.2881,
                                    21.1641
                                ],
                                [
                                    105.2915,
                                    21.1529
                                ],
                                [
                                    105.298,
                                    21.1441
                                ],
                                [
                                    105.3057,
                                    21.1378
                                ],
                                [
                                    105.3197,
                                    21.1138
                                ],
                                [
                                    105.3205,
                                    21.1099
                                ],
                                [
                                    105.3173,
                                    21.0927
                                ],
                                [
                                    105.3079,
                                    21.0828
                                ],
                                [
                                    105.294,
                                    21.0547
                                ],
                                [
                                    105.2948,
                                    21.0454
                                ],
                                [
                                    105.2999,
                                    21.029
                                ],
                                [
                                    105.3153,
                                    21.0113
                                ],
                                [
                                    105.3218,
                                    21.0147
                                ],
                                [
                                    105.3209,
                                    21.0187
                                ],
                                [
                                    105.3221,
                                    21.0195
                                ],
                                [
                                    105.3238,
                                    21.0175
                                ],
                                [
                                    105.3249,
                                    21.0214
                                ],
                                [
                                    105.3281,
                                    21.0195
                                ],
                                [
                                    105.3287,
                                    21.0165
                                ],
                                [
                                    105.3268,
                                    21.0163
                                ],
                                [
                                    105.3278,
                                    21.0138
                                ],
                                [
                                    105.3252,
                                    21.0103
                                ],
                                [
                                    105.3296,
                                    21.008
                                ],
                                [
                                    105.3333,
                                    21.0081
                                ],
                                [
                                    105.3352,
                                    21.0094
                                ],
                                [
                                    105.3337,
                                    21.0102
                                ],
                                [
                                    105.3359,
                                    21.0103
                                ],
                                [
                                    105.3388,
                                    21.0136
                                ],
                                [
                                    105.3477,
                                    21.0141
                                ],
                                [
                                    105.3534,
                                    21.0074
                                ],
                                [
                                    105.359,
                                    21.0089
                                ],
                                [
                                    105.3666,
                                    21.013
                                ],
                                [
                                    105.3754,
                                    21.0145
                                ],
                                [
                                    105.387,
                                    21.0246
                                ],
                                [
                                    105.3871,
                                    21.0198
                                ],
                                [
                                    105.3921,
                                    21.0145
                                ],
                                [
                                    105.3921,
                                    21.006
                                ],
                                [
                                    105.3937,
                                    21.0034
                                ],
                                [
                                    105.4032,
                                    20.9981
                                ],
                                [
                                    105.4178,
                                    20.9978
                                ],
                                [
                                    105.4223,
                                    20.9837
                                ],
                                [
                                    105.4324,
                                    20.9791
                                ],
                                [
                                    105.4362,
                                    20.9748
                                ],
                                [
                                    105.4429,
                                    20.9633
                                ],
                                [
                                    105.4438,
                                    20.956
                                ],
                                [
                                    105.4514,
                                    20.954
                                ],
                                [
                                    105.4617,
                                    20.9465
                                ],
                                [
                                    105.4671,
                                    20.9451
                                ],
                                [
                                    105.4693,
                                    20.9471
                                ],
                                [
                                    105.4796,
                                    20.9478
                                ],
                                [
                                    105.4905,
                                    20.9341
                                ],
                                [
                                    105.4996,
                                    20.9303
                                ],
                                [
                                    105.5024,
                                    20.931
                                ],
                                [
                                    105.5059,
                                    20.9262
                                ],
                                [
                                    105.5125,
                                    20.9223
                                ],
                                [
                                    105.5218,
                                    20.9218
                                ],
                                [
                                    105.5251,
                                    20.9188
                                ],
                                [
                                    105.5385,
                                    20.9276
                                ],
                                [
                                    105.5465,
                                    20.9217
                                ],
                                [
                                    105.5529,
                                    20.9271
                                ],
                                [
                                    105.5608,
                                    20.9246
                                ],
                                [
                                    105.566,
                                    20.9272
                                ],
                                [
                                    105.5713,
                                    20.9271
                                ],
                                [
                                    105.5744,
                                    20.9299
                                ],
                                [
                                    105.5805,
                                    20.9287
                                ],
                                [
                                    105.5813,
                                    20.9236
                                ],
                                [
                                    105.5848,
                                    20.9226
                                ],
                                [
                                    105.5822,
                                    20.9199
                                ],
                                [
                                    105.5791,
                                    20.9207
                                ],
                                [
                                    105.5811,
                                    20.918
                                ],
                                [
                                    105.5805,
                                    20.9163
                                ],
                                [
                                    105.5684,
                                    20.911
                                ],
                                [
                                    105.5673,
                                    20.9034
                                ],
                                [
                                    105.5683,
                                    20.9019
                                ],
                                [
                                    105.5639,
                                    20.8982
                                ],
                                [
                                    105.5634,
                                    20.8951
                                ],
                                [
                                    105.5614,
                                    20.8972
                                ],
                                [
                                    105.5593,
                                    20.89
                                ],
                                [
                                    105.5567,
                                    20.8893
                                ],
                                [
                                    105.5553,
                                    20.8863
                                ],
                                [
                                    105.5432,
                                    20.8817
                                ],
                                [
                                    105.5441,
                                    20.8767
                                ],
                                [
                                    105.5508,
                                    20.8787
                                ],
                                [
                                    105.5529,
                                    20.8826
                                ],
                                [
                                    105.5546,
                                    20.8794
                                ],
                                [
                                    105.5593,
                                    20.8811
                                ],
                                [
                                    105.5601,
                                    20.8794
                                ],
                                [
                                    105.559,
                                    20.8787
                                ],
                                [
                                    105.5614,
                                    20.8755
                                ],
                                [
                                    105.5635,
                                    20.8759
                                ],
                                [
                                    105.5716,
                                    20.8687
                                ],
                                [
                                    105.5753,
                                    20.8673
                                ],
                                [
                                    105.5754,
                                    20.8643
                                ],
                                [
                                    105.5794,
                                    20.8613
                                ],
                                [
                                    105.5784,
                                    20.86
                                ],
                                [
                                    105.5801,
                                    20.8581
                                ],
                                [
                                    105.5826,
                                    20.8592
                                ],
                                [
                                    105.5847,
                                    20.8579
                                ],
                                [
                                    105.5848,
                                    20.8484
                                ],
                                [
                                    105.5865,
                                    20.8475
                                ],
                                [
                                    105.5856,
                                    20.8451
                                ],
                                [
                                    105.5879,
                                    20.8456
                                ],
                                [
                                    105.5872,
                                    20.8431
                                ],
                                [
                                    105.5853,
                                    20.8426
                                ],
                                [
                                    105.5864,
                                    20.8406
                                ],
                                [
                                    105.5803,
                                    20.8359
                                ],
                                [
                                    105.5797,
                                    20.8268
                                ],
                                [
                                    105.5747,
                                    20.8223
                                ],
                                [
                                    105.5646,
                                    20.8218
                                ],
                                [
                                    105.5607,
                                    20.8198
                                ],
                                [
                                    105.5589,
                                    20.8108
                                ],
                                [
                                    105.5553,
                                    20.806
                                ],
                                [
                                    105.558,
                                    20.8052
                                ],
                                [
                                    105.5582,
                                    20.8036
                                ],
                                [
                                    105.5593,
                                    20.8068
                                ],
                                [
                                    105.5655,
                                    20.8063
                                ],
                                [
                                    105.576,
                                    20.8083
                                ],
                                [
                                    105.5835,
                                    20.8119
                                ],
                                [
                                    105.5841,
                                    20.8176
                                ],
                                [
                                    105.5882,
                                    20.8207
                                ],
                                [
                                    105.5873,
                                    20.8275
                                ],
                                [
                                    105.5891,
                                    20.8311
                                ],
                                [
                                    105.5956,
                                    20.831
                                ],
                                [
                                    105.598,
                                    20.8338
                                ],
                                [
                                    105.5963,
                                    20.8417
                                ],
                                [
                                    105.6005,
                                    20.8411
                                ],
                                [
                                    105.603,
                                    20.8381
                                ],
                                [
                                    105.6088,
                                    20.8382
                                ],
                                [
                                    105.6134,
                                    20.836
                                ],
                                [
                                    105.6162,
                                    20.8318
                                ],
                                [
                                    105.6195,
                                    20.8319
                                ],
                                [
                                    105.6177,
                                    20.8304
                                ],
                                [
                                    105.6261,
                                    20.8326
                                ],
                                [
                                    105.6306,
                                    20.8294
                                ],
                                [
                                    105.6335,
                                    20.8306
                                ],
                                [
                                    105.6321,
                                    20.8321
                                ],
                                [
                                    105.6321,
                                    20.8377
                                ],
                                [
                                    105.6364,
                                    20.8393
                                ],
                                [
                                    105.6352,
                                    20.8332
                                ],
                                [
                                    105.6365,
                                    20.8308
                                ],
                                [
                                    105.6421,
                                    20.8276
                                ],
                                [
                                    105.6404,
                                    20.8226
                                ],
                                [
                                    105.6384,
                                    20.8248
                                ],
                                [
                                    105.6304,
                                    20.821
                                ],
                                [
                                    105.632,
                                    20.82
                                ],
                                [
                                    105.6309,
                                    20.8173
                                ],
                                [
                                    105.6271,
                                    20.8157
                                ],
                                [
                                    105.6305,
                                    20.8159
                                ],
                                [
                                    105.6306,
                                    20.8141
                                ],
                                [
                                    105.632,
                                    20.814
                                ],
                                [
                                    105.6306,
                                    20.8109
                                ],
                                [
                                    105.6324,
                                    20.8093
                                ],
                                [
                                    105.6326,
                                    20.8031
                                ],
                                [
                                    105.6346,
                                    20.802
                                ],
                                [
                                    105.6311,
                                    20.7973
                                ],
                                [
                                    105.6332,
                                    20.7959
                                ],
                                [
                                    105.6306,
                                    20.7935
                                ],
                                [
                                    105.6481,
                                    20.7937
                                ],
                                [
                                    105.6496,
                                    20.7764
                                ],
                                [
                                    105.6489,
                                    20.766
                                ],
                                [
                                    105.6517,
                                    20.7547
                                ],
                                [
                                    105.6578,
                                    20.7413
                                ],
                                [
                                    105.6665,
                                    20.7341
                                ],
                                [
                                    105.6616,
                                    20.7234
                                ],
                                [
                                    105.6648,
                                    20.7173
                                ],
                                [
                                    105.6792,
                                    20.7005
                                ],
                                [
                                    105.6823,
                                    20.699
                                ],
                                [
                                    105.6834,
                                    20.6963
                                ],
                                [
                                    105.6839,
                                    20.6922
                                ],
                                [
                                    105.6802,
                                    20.6835
                                ],
                                [
                                    105.6768,
                                    20.6828
                                ],
                                [
                                    105.6746,
                                    20.6802
                                ],
                                [
                                    105.6732,
                                    20.6814
                                ],
                                [
                                    105.6696,
                                    20.6796
                                ],
                                [
                                    105.6695,
                                    20.6759
                                ],
                                [
                                    105.6737,
                                    20.6703
                                ],
                                [
                                    105.6722,
                                    20.668
                                ],
                                [
                                    105.6752,
                                    20.6636
                                ],
                                [
                                    105.6771,
                                    20.6651
                                ],
                                [
                                    105.6774,
                                    20.6718
                                ],
                                [
                                    105.6796,
                                    20.6696
                                ],
                                [
                                    105.678,
                                    20.6665
                                ],
                                [
                                    105.6806,
                                    20.6622
                                ],
                                [
                                    105.6786,
                                    20.6603
                                ],
                                [
                                    105.6813,
                                    20.6523
                                ],
                                [
                                    105.6792,
                                    20.6454
                                ],
                                [
                                    105.6826,
                                    20.6402
                                ],
                                [
                                    105.6868,
                                    20.6378
                                ],
                                [
                                    105.6835,
                                    20.6352
                                ],
                                [
                                    105.6849,
                                    20.633
                                ],
                                [
                                    105.6784,
                                    20.6285
                                ],
                                [
                                    105.6775,
                                    20.6298
                                ],
                                [
                                    105.6734,
                                    20.6292
                                ],
                                [
                                    105.6721,
                                    20.6321
                                ],
                                [
                                    105.6704,
                                    20.632
                                ],
                                [
                                    105.6688,
                                    20.629
                                ],
                                [
                                    105.6659,
                                    20.6299
                                ],
                                [
                                    105.6639,
                                    20.6282
                                ],
                                [
                                    105.6673,
                                    20.6235
                                ],
                                [
                                    105.6662,
                                    20.6179
                                ],
                                [
                                    105.6728,
                                    20.6164
                                ],
                                [
                                    105.6748,
                                    20.6176
                                ],
                                [
                                    105.677,
                                    20.6161
                                ],
                                [
                                    105.6821,
                                    20.6183
                                ],
                                [
                                    105.6829,
                                    20.6163
                                ],
                                [
                                    105.6869,
                                    20.6161
                                ],
                                [
                                    105.6917,
                                    20.6221
                                ],
                                [
                                    105.6967,
                                    20.6194
                                ],
                                [
                                    105.6991,
                                    20.6219
                                ],
                                [
                                    105.7013,
                                    20.6215
                                ],
                                [
                                    105.7056,
                                    20.609
                                ],
                                [
                                    105.7041,
                                    20.6026
                                ],
                                [
                                    105.7083,
                                    20.5988
                                ],
                                [
                                    105.7217,
                                    20.5961
                                ],
                                [
                                    105.7272,
                                    20.6046
                                ],
                                [
                                    105.7316,
                                    20.6001
                                ],
                                [
                                    105.744,
                                    20.5983
                                ],
                                [
                                    105.7475,
                                    20.5921
                                ],
                                [
                                    105.7531,
                                    20.5889
                                ],
                                [
                                    105.7551,
                                    20.5851
                                ],
                                [
                                    105.7652,
                                    20.5755
                                ]
                            ]
                        ]
                    },
                    "properties": {
                        "name": "VNM.27_1",
                        "description": "VNM",
                        "fill-opacity": 0,
                        "stroke-opacity": 1,
                        "stroke": "#ff0000",
                        "GID_1": "Vietnam",
                        "GID_0": "H Ni",
                        "COUNTRY": "Ha Noi",
                        "NAME_1": "NA",
                        "VARNAME_1": "Thnh ph",
                        "NL_NAME_1": "City",
                        "TYPE_1": "NA",
                        "ENGTYPE_1": "VN.HI",
                        "CC_1": "NA"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    106.8151,
                                    10.3913
                                ],
                                [
                                    106.8346,
                                    10.3542
                                ],
                                [
                                    106.8946,
                                    10.3651
                                ],
                                [
                                    106.9185,
                                    10.374
                                ],
                                [
                                    106.9426,
                                    10.3854
                                ],
                                [
                                    106.9706,
                                    10.3948
                                ],
                                [
                                    106.981,
                                    10.4052
                                ],
                                [
                                    106.9856,
                                    10.4132
                                ],
                                [
                                    106.9853,
                                    10.4182
                                ],
                                [
                                    106.9823,
                                    10.4247
                                ],
                                [
                                    106.9726,
                                    10.4332
                                ],
                                [
                                    106.9627,
                                    10.4385
                                ],
                                [
                                    106.9661,
                                    10.4465
                                ],
                                [
                                    106.9809,
                                    10.4473
                                ],
                                [
                                    106.9915,
                                    10.4509
                                ],
                                [
                                    106.9966,
                                    10.4605
                                ],
                                [
                                    106.9982,
                                    10.4786
                                ],
                                [
                                    106.9974,
                                    10.5032
                                ],
                                [
                                    107.0002,
                                    10.5071
                                ],
                                [
                                    107.007,
                                    10.5105
                                ],
                                [
                                    107.0186,
                                    10.5291
                                ],
                                [
                                    107.0271,
                                    10.5378
                                ],
                                [
                                    107.0273,
                                    10.5421
                                ],
                                [
                                    107.025,
                                    10.5459
                                ],
                                [
                                    107.0147,
                                    10.5479
                                ],
                                [
                                    107.0107,
                                    10.5546
                                ],
                                [
                                    107.0119,
                                    10.5607
                                ],
                                [
                                    107.0267,
                                    10.5835
                                ],
                                [
                                    107.0266,
                                    10.5885
                                ],
                                [
                                    107.0223,
                                    10.5951
                                ],
                                [
                                    107.0191,
                                    10.6044
                                ],
                                [
                                    107.0079,
                                    10.6133
                                ],
                                [
                                    107.0066,
                                    10.6098
                                ],
                                [
                                    107.0029,
                                    10.6109
                                ],
                                [
                                    107.0007,
                                    10.6071
                                ],
                                [
                                    106.9981,
                                    10.6077
                                ],
                                [
                                    106.9963,
                                    10.6055
                                ],
                                [
                                    106.9907,
                                    10.6049
                                ],
                                [
                                    106.9906,
                                    10.6007
                                ],
                                [
                                    106.986,
                                    10.596
                                ],
                                [
                                    106.9871,
                                    10.5878
                                ],
                                [
                                    106.9839,
                                    10.5794
                                ],
                                [
                                    106.9746,
                                    10.5824
                                ],
                                [
                                    106.9686,
                                    10.5894
                                ],
                                [
                                    106.9607,
                                    10.5935
                                ],
                                [
                                    106.9469,
                                    10.5973
                                ],
                                [
                                    106.9414,
                                    10.5967
                                ],
                                [
                                    106.9328,
                                    10.6019
                                ],
                                [
                                    106.9265,
                                    10.6035
                                ],
                                [
                                    106.9206,
                                    10.61
                                ],
                                [
                                    106.9139,
                                    10.6075
                                ],
                                [
                                    106.9114,
                                    10.6083
                                ],
                                [
                                    106.9034,
                                    10.6248
                                ],
                                [
                                    106.8927,
                                    10.6322
                                ],
                                [
                                    106.8896,
                                    10.6375
                                ],
                                [
                                    106.8851,
                                    10.6403
                                ],
                                [
                                    106.883,
                                    10.6474
                                ],
                                [
                                    106.8729,
                                    10.6481
                                ],
                                [
                                    106.87,
                                    10.6432
                                ],
                                [
                                    106.8637,
                                    10.6415
                                ],
                                [
                                    106.86,
                                    10.6366
                                ],
                                [
                                    106.8515,
                                    10.6398
                                ],
                                [
                                    106.8428,
                                    10.638
                                ],
                                [
                                    106.8404,
                                    10.6356
                                ],
                                [
                                    106.8376,
                                    10.627
                                ],
                                [
                                    106.8266,
                                    10.6278
                                ],
                                [
                                    106.8239,
                                    10.629
                                ],
                                [
                                    106.8141,
                                    10.6405
                                ],
                                [
                                    106.8071,
                                    10.6575
                                ],
                                [
                                    106.7972,
                                    10.6622
                                ],
                                [
                                    106.7922,
                                    10.6673
                                ],
                                [
                                    106.7828,
                                    10.6731
                                ],
                                [
                                    106.7728,
                                    10.6763
                                ],
                                [
                                    106.771,
                                    10.6801
                                ],
                                [
                                    106.7573,
                                    10.6941
                                ],
                                [
                                    106.7519,
                                    10.705
                                ],
                                [
                                    106.751,
                                    10.7137
                                ],
                                [
                                    106.752,
                                    10.7211
                                ],
                                [
                                    106.7677,
                                    10.7419
                                ],
                                [
                                    106.7762,
                                    10.7487
                                ],
                                [
                                    106.7992,
                                    10.759
                                ],
                                [
                                    106.8033,
                                    10.7625
                                ],
                                [
                                    106.8056,
                                    10.7701
                                ],
                                [
                                    106.8164,
                                    10.7799
                                ],
                                [
                                    106.822,
                                    10.7808
                                ],
                                [
                                    106.8248,
                                    10.7786
                                ],
                                [
                                    106.8261,
                                    10.7739
                                ],
                                [
                                    106.8236,
                                    10.7666
                                ],
                                [
                                    106.8243,
                                    10.7596
                                ],
                                [
                                    106.8281,
                                    10.7601
                                ],
                                [
                                    106.8403,
                                    10.7733
                                ],
                                [
                                    106.8457,
                                    10.7751
                                ],
                                [
                                    106.8519,
                                    10.7746
                                ],
                                [
                                    106.865,
                                    10.7645
                                ],
                                [
                                    106.8726,
                                    10.7663
                                ],
                                [
                                    106.8746,
                                    10.7695
                                ],
                                [
                                    106.8722,
                                    10.7776
                                ],
                                [
                                    106.8661,
                                    10.7828
                                ],
                                [
                                    106.8647,
                                    10.7859
                                ],
                                [
                                    106.8653,
                                    10.7891
                                ],
                                [
                                    106.8782,
                                    10.8005
                                ],
                                [
                                    106.881,
                                    10.8047
                                ],
                                [
                                    106.8813,
                                    10.8142
                                ],
                                [
                                    106.8567,
                                    10.8427
                                ],
                                [
                                    106.8496,
                                    10.8562
                                ],
                                [
                                    106.8467,
                                    10.8649
                                ],
                                [
                                    106.8511,
                                    10.8763
                                ],
                                [
                                    106.8436,
                                    10.884
                                ],
                                [
                                    106.843,
                                    10.8913
                                ],
                                [
                                    106.8402,
                                    10.8989
                                ],
                                [
                                    106.8339,
                                    10.8983
                                ],
                                [
                                    106.8297,
                                    10.8948
                                ],
                                [
                                    106.8251,
                                    10.8938
                                ],
                                [
                                    106.8238,
                                    10.892
                                ],
                                [
                                    106.8249,
                                    10.8882
                                ],
                                [
                                    106.8193,
                                    10.8859
                                ],
                                [
                                    106.8173,
                                    10.8813
                                ],
                                [
                                    106.8128,
                                    10.8788
                                ],
                                [
                                    106.8086,
                                    10.873
                                ],
                                [
                                    106.8052,
                                    10.875
                                ],
                                [
                                    106.7986,
                                    10.872
                                ],
                                [
                                    106.7949,
                                    10.8735
                                ],
                                [
                                    106.7889,
                                    10.872
                                ],
                                [
                                    106.7878,
                                    10.8672
                                ],
                                [
                                    106.7799,
                                    10.8684
                                ],
                                [
                                    106.7821,
                                    10.8764
                                ],
                                [
                                    106.7805,
                                    10.8815
                                ],
                                [
                                    106.7697,
                                    10.8938
                                ],
                                [
                                    106.7684,
                                    10.8936
                                ],
                                [
                                    106.7646,
                                    10.8849
                                ],
                                [
                                    106.7605,
                                    10.8813
                                ],
                                [
                                    106.7619,
                                    10.8756
                                ],
                                [
                                    106.7604,
                                    10.8724
                                ],
                                [
                                    106.7633,
                                    10.8699
                                ],
                                [
                                    106.7622,
                                    10.8673
                                ],
                                [
                                    106.7546,
                                    10.8663
                                ],
                                [
                                    106.7518,
                                    10.8634
                                ],
                                [
                                    106.7487,
                                    10.8656
                                ],
                                [
                                    106.746,
                                    10.8717
                                ],
                                [
                                    106.7464,
                                    10.8739
                                ],
                                [
                                    106.7514,
                                    10.8755
                                ],
                                [
                                    106.7504,
                                    10.8772
                                ],
                                [
                                    106.7472,
                                    10.8774
                                ],
                                [
                                    106.7447,
                                    10.8801
                                ],
                                [
                                    106.745,
                                    10.8816
                                ],
                                [
                                    106.743,
                                    10.8803
                                ],
                                [
                                    106.7397,
                                    10.881
                                ],
                                [
                                    106.7382,
                                    10.8792
                                ],
                                [
                                    106.7342,
                                    10.8805
                                ],
                                [
                                    106.7367,
                                    10.8846
                                ],
                                [
                                    106.7313,
                                    10.886
                                ],
                                [
                                    106.7324,
                                    10.8906
                                ],
                                [
                                    106.7292,
                                    10.8894
                                ],
                                [
                                    106.7176,
                                    10.8964
                                ],
                                [
                                    106.7131,
                                    10.8899
                                ],
                                [
                                    106.7145,
                                    10.8868
                                ],
                                [
                                    106.7175,
                                    10.8878
                                ],
                                [
                                    106.7166,
                                    10.8847
                                ],
                                [
                                    106.718,
                                    10.8809
                                ],
                                [
                                    106.7126,
                                    10.8779
                                ],
                                [
                                    106.7212,
                                    10.8764
                                ],
                                [
                                    106.7235,
                                    10.8718
                                ],
                                [
                                    106.7154,
                                    10.8728
                                ],
                                [
                                    106.7156,
                                    10.8685
                                ],
                                [
                                    106.7132,
                                    10.8659
                                ],
                                [
                                    106.6999,
                                    10.8684
                                ],
                                [
                                    106.6893,
                                    10.8812
                                ],
                                [
                                    106.689,
                                    10.885
                                ],
                                [
                                    106.6945,
                                    10.8962
                                ],
                                [
                                    106.6927,
                                    10.9042
                                ],
                                [
                                    106.6849,
                                    10.9211
                                ],
                                [
                                    106.6808,
                                    10.9235
                                ],
                                [
                                    106.6679,
                                    10.9209
                                ],
                                [
                                    106.6648,
                                    10.9219
                                ],
                                [
                                    106.6572,
                                    10.9259
                                ],
                                [
                                    106.6504,
                                    10.9339
                                ],
                                [
                                    106.6521,
                                    10.9528
                                ],
                                [
                                    106.6488,
                                    10.9643
                                ],
                                [
                                    106.6502,
                                    10.973
                                ],
                                [
                                    106.6484,
                                    10.9808
                                ],
                                [
                                    106.6433,
                                    10.9809
                                ],
                                [
                                    106.6369,
                                    10.9776
                                ],
                                [
                                    106.6251,
                                    10.9811
                                ],
                                [
                                    106.6158,
                                    10.9909
                                ],
                                [
                                    106.621,
                                    11.0019
                                ],
                                [
                                    106.6201,
                                    11.0082
                                ],
                                [
                                    106.6175,
                                    11.011
                                ],
                                [
                                    106.6083,
                                    11.0118
                                ],
                                [
                                    106.5993,
                                    11.0146
                                ],
                                [
                                    106.5975,
                                    11.0168
                                ],
                                [
                                    106.5952,
                                    11.0257
                                ],
                                [
                                    106.5956,
                                    11.03
                                ],
                                [
                                    106.6033,
                                    11.0396
                                ],
                                [
                                    106.6002,
                                    11.0447
                                ],
                                [
                                    106.5962,
                                    11.0458
                                ],
                                [
                                    106.5928,
                                    11.0432
                                ],
                                [
                                    106.591,
                                    11.0369
                                ],
                                [
                                    106.5865,
                                    11.0364
                                ],
                                [
                                    106.5828,
                                    11.0382
                                ],
                                [
                                    106.5796,
                                    11.0477
                                ],
                                [
                                    106.5727,
                                    11.0546
                                ],
                                [
                                    106.569,
                                    11.0508
                                ],
                                [
                                    106.5676,
                                    11.0454
                                ],
                                [
                                    106.5646,
                                    11.0449
                                ],
                                [
                                    106.5499,
                                    11.0463
                                ],
                                [
                                    106.5463,
                                    11.0521
                                ],
                                [
                                    106.5343,
                                    11.0575
                                ],
                                [
                                    106.5238,
                                    11.0737
                                ],
                                [
                                    106.5261,
                                    11.0798
                                ],
                                [
                                    106.5341,
                                    11.0902
                                ],
                                [
                                    106.5302,
                                    11.0924
                                ],
                                [
                                    106.5232,
                                    11.0899
                                ],
                                [
                                    106.5162,
                                    11.1008
                                ],
                                [
                                    106.526,
                                    11.1053
                                ],
                                [
                                    106.5278,
                                    11.1146
                                ],
                                [
                                    106.5262,
                                    11.1215
                                ],
                                [
                                    106.5214,
                                    11.1218
                                ],
                                [
                                    106.5153,
                                    11.1263
                                ],
                                [
                                    106.5076,
                                    11.142
                                ],
                                [
                                    106.5015,
                                    11.1402
                                ],
                                [
                                    106.4915,
                                    11.1445
                                ],
                                [
                                    106.4795,
                                    11.1423
                                ],
                                [
                                    106.4723,
                                    11.1433
                                ],
                                [
                                    106.4672,
                                    11.1479
                                ],
                                [
                                    106.471,
                                    11.1553
                                ],
                                [
                                    106.4639,
                                    11.16
                                ],
                                [
                                    106.4597,
                                    11.1584
                                ],
                                [
                                    106.4561,
                                    11.1603
                                ],
                                [
                                    106.4528,
                                    11.1582
                                ],
                                [
                                    106.4515,
                                    11.1535
                                ],
                                [
                                    106.4527,
                                    11.1514
                                ],
                                [
                                    106.4577,
                                    11.1529
                                ],
                                [
                                    106.4583,
                                    11.148
                                ],
                                [
                                    106.4563,
                                    11.1415
                                ],
                                [
                                    106.4509,
                                    11.1364
                                ],
                                [
                                    106.4458,
                                    11.1358
                                ],
                                [
                                    106.4484,
                                    11.1309
                                ],
                                [
                                    106.4448,
                                    11.1268
                                ],
                                [
                                    106.4424,
                                    11.1158
                                ],
                                [
                                    106.4378,
                                    11.1122
                                ],
                                [
                                    106.4338,
                                    11.1002
                                ],
                                [
                                    106.4316,
                                    11.0983
                                ],
                                [
                                    106.4308,
                                    11.0921
                                ],
                                [
                                    106.426,
                                    11.0916
                                ],
                                [
                                    106.426,
                                    11.0779
                                ],
                                [
                                    106.4274,
                                    11.074
                                ],
                                [
                                    106.4258,
                                    11.0666
                                ],
                                [
                                    106.4218,
                                    11.0663
                                ],
                                [
                                    106.4202,
                                    11.0634
                                ],
                                [
                                    106.4223,
                                    11.0591
                                ],
                                [
                                    106.4205,
                                    11.0582
                                ],
                                [
                                    106.4203,
                                    11.0519
                                ],
                                [
                                    106.4243,
                                    11.0471
                                ],
                                [
                                    106.4226,
                                    11.0466
                                ],
                                [
                                    106.4227,
                                    11.0428
                                ],
                                [
                                    106.4201,
                                    11.0362
                                ],
                                [
                                    106.4133,
                                    11.0319
                                ],
                                [
                                    106.4089,
                                    11.0224
                                ],
                                [
                                    106.4091,
                                    11.0147
                                ],
                                [
                                    106.4128,
                                    11.0089
                                ],
                                [
                                    106.4063,
                                    11.0062
                                ],
                                [
                                    106.4053,
                                    11.0038
                                ],
                                [
                                    106.392,
                                    10.9998
                                ],
                                [
                                    106.3807,
                                    10.9984
                                ],
                                [
                                    106.3773,
                                    11.0004
                                ],
                                [
                                    106.3633,
                                    10.9977
                                ],
                                [
                                    106.3567,
                                    10.9916
                                ],
                                [
                                    106.373,
                                    10.9697
                                ],
                                [
                                    106.4114,
                                    10.9738
                                ],
                                [
                                    106.4535,
                                    10.9419
                                ],
                                [
                                    106.5316,
                                    10.9026
                                ],
                                [
                                    106.5329,
                                    10.9004
                                ],
                                [
                                    106.5046,
                                    10.789
                                ],
                                [
                                    106.4637,
                                    10.7565
                                ],
                                [
                                    106.4916,
                                    10.7243
                                ],
                                [
                                    106.4958,
                                    10.7276
                                ],
                                [
                                    106.4997,
                                    10.725
                                ],
                                [
                                    106.5017,
                                    10.7265
                                ],
                                [
                                    106.5093,
                                    10.7172
                                ],
                                [
                                    106.5202,
                                    10.7237
                                ],
                                [
                                    106.5302,
                                    10.7173
                                ],
                                [
                                    106.5272,
                                    10.7093
                                ],
                                [
                                    106.534,
                                    10.6879
                                ],
                                [
                                    106.5356,
                                    10.6857
                                ],
                                [
                                    106.5474,
                                    10.687
                                ],
                                [
                                    106.5505,
                                    10.6854
                                ],
                                [
                                    106.5535,
                                    10.6754
                                ],
                                [
                                    106.5521,
                                    10.6706
                                ],
                                [
                                    106.5536,
                                    10.6685
                                ],
                                [
                                    106.5489,
                                    10.6574
                                ],
                                [
                                    106.5559,
                                    10.657
                                ],
                                [
                                    106.5556,
                                    10.6509
                                ],
                                [
                                    106.5579,
                                    10.6486
                                ],
                                [
                                    106.559,
                                    10.6519
                                ],
                                [
                                    106.5653,
                                    10.6523
                                ],
                                [
                                    106.5663,
                                    10.6564
                                ],
                                [
                                    106.5735,
                                    10.6542
                                ],
                                [
                                    106.5734,
                                    10.6498
                                ],
                                [
                                    106.577,
                                    10.6489
                                ],
                                [
                                    106.5794,
                                    10.6503
                                ],
                                [
                                    106.5779,
                                    10.6533
                                ],
                                [
                                    106.5798,
                                    10.6561
                                ],
                                [
                                    106.5833,
                                    10.6554
                                ],
                                [
                                    106.5841,
                                    10.6537
                                ],
                                [
                                    106.5905,
                                    10.6531
                                ],
                                [
                                    106.5918,
                                    10.6501
                                ],
                                [
                                    106.5956,
                                    10.6511
                                ],
                                [
                                    106.5954,
                                    10.6538
                                ],
                                [
                                    106.5996,
                                    10.6526
                                ],
                                [
                                    106.6006,
                                    10.6507
                                ],
                                [
                                    106.6054,
                                    10.6588
                                ],
                                [
                                    106.6168,
                                    10.6533
                                ],
                                [
                                    106.619,
                                    10.649
                                ],
                                [
                                    106.6248,
                                    10.6474
                                ],
                                [
                                    106.6243,
                                    10.6445
                                ],
                                [
                                    106.6219,
                                    10.6441
                                ],
                                [
                                    106.6212,
                                    10.641
                                ],
                                [
                                    106.6242,
                                    10.6394
                                ],
                                [
                                    106.6272,
                                    10.6424
                                ],
                                [
                                    106.6295,
                                    10.642
                                ],
                                [
                                    106.6312,
                                    10.6368
                                ],
                                [
                                    106.6294,
                                    10.6353
                                ],
                                [
                                    106.6302,
                                    10.6267
                                ],
                                [
                                    106.6321,
                                    10.6282
                                ],
                                [
                                    106.6348,
                                    10.6254
                                ],
                                [
                                    106.6389,
                                    10.6275
                                ],
                                [
                                    106.641,
                                    10.6267
                                ],
                                [
                                    106.6462,
                                    10.6342
                                ],
                                [
                                    106.653,
                                    10.6325
                                ],
                                [
                                    106.653,
                                    10.638
                                ],
                                [
                                    106.654,
                                    10.6396
                                ],
                                [
                                    106.6563,
                                    10.6384
                                ],
                                [
                                    106.6569,
                                    10.6436
                                ],
                                [
                                    106.6608,
                                    10.642
                                ],
                                [
                                    106.6602,
                                    10.6398
                                ],
                                [
                                    106.6696,
                                    10.6392
                                ],
                                [
                                    106.6742,
                                    10.6445
                                ],
                                [
                                    106.6791,
                                    10.6456
                                ],
                                [
                                    106.6851,
                                    10.651
                                ],
                                [
                                    106.6853,
                                    10.6567
                                ],
                                [
                                    106.6876,
                                    10.6557
                                ],
                                [
                                    106.6913,
                                    10.6485
                                ],
                                [
                                    106.6962,
                                    10.6498
                                ],
                                [
                                    106.7009,
                                    10.6539
                                ],
                                [
                                    106.7075,
                                    10.6499
                                ],
                                [
                                    106.712,
                                    10.6503
                                ],
                                [
                                    106.7188,
                                    10.6456
                                ],
                                [
                                    106.7226,
                                    10.6459
                                ],
                                [
                                    106.7232,
                                    10.6414
                                ],
                                [
                                    106.7256,
                                    10.6382
                                ],
                                [
                                    106.7296,
                                    10.6364
                                ],
                                [
                                    106.7333,
                                    10.6288
                                ],
                                [
                                    106.7291,
                                    10.6281
                                ],
                                [
                                    106.7284,
                                    10.6243
                                ],
                                [
                                    106.7319,
                                    10.6227
                                ],
                                [
                                    106.7293,
                                    10.6165
                                ],
                                [
                                    106.7276,
                                    10.6157
                                ],
                                [
                                    106.7291,
                                    10.6121
                                ],
                                [
                                    106.7315,
                                    10.6122
                                ],
                                [
                                    106.7328,
                                    10.6099
                                ],
                                [
                                    106.7286,
                                    10.6087
                                ],
                                [
                                    106.7239,
                                    10.6119
                                ],
                                [
                                    106.7223,
                                    10.6073
                                ],
                                [
                                    106.7188,
                                    10.6059
                                ],
                                [
                                    106.7223,
                                    10.5995
                                ],
                                [
                                    106.7202,
                                    10.5963
                                ],
                                [
                                    106.7235,
                                    10.5936
                                ],
                                [
                                    106.7233,
                                    10.5881
                                ],
                                [
                                    106.7255,
                                    10.5852
                                ],
                                [
                                    106.7272,
                                    10.5855
                                ],
                                [
                                    106.7287,
                                    10.58
                                ],
                                [
                                    106.7328,
                                    10.5802
                                ],
                                [
                                    106.735,
                                    10.5827
                                ],
                                [
                                    106.7352,
                                    10.5859
                                ],
                                [
                                    106.737,
                                    10.5863
                                ],
                                [
                                    106.7395,
                                    10.5828
                                ],
                                [
                                    106.7351,
                                    10.5776
                                ],
                                [
                                    106.7367,
                                    10.5769
                                ],
                                [
                                    106.7412,
                                    10.5791
                                ],
                                [
                                    106.7453,
                                    10.5757
                                ],
                                [
                                    106.7426,
                                    10.571
                                ],
                                [
                                    106.742,
                                    10.5654
                                ],
                                [
                                    106.7491,
                                    10.5307
                                ],
                                [
                                    106.7484,
                                    10.5186
                                ],
                                [
                                    106.7436,
                                    10.4976
                                ],
                                [
                                    106.7454,
                                    10.4884
                                ],
                                [
                                    106.7569,
                                    10.4626
                                ],
                                [
                                    106.7632,
                                    10.4525
                                ],
                                [
                                    106.7777,
                                    10.4331
                                ],
                                [
                                    106.8151,
                                    10.3913
                                ]
                            ]
                        ]
                    },
                    "properties": {
                        "name": "VNM.25_1",
                        "description": "VNM",
                        "fill-opacity": 0,
                        "stroke-opacity": 1,
                        "stroke": "#ff0000",
                        "GID_1": "Vietnam",
                        "GID_0": "Thnh ph H Ch Minh",
                        "COUNTRY": "Ho Chi Minh",
                        "NAME_1": "NA",
                        "VARNAME_1": "Thnh ph",
                        "NL_NAME_1": "City",
                        "TYPE_1": "NA",
                        "ENGTYPE_1": "VN.HC",
                        "CC_1": "NA"
                    }
                }
            ]
        };
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 16.159434, lng: 106.628482},
                zoom: 6.3,
                mapId: 'f415504edddf2cbe'
            });
        }

        function findPolygonCoordinates(cityName) {
            for (let feature of geoData.features) {
                if (feature.properties.GID_0 === cityName) {
                    return feature.geometry.coordinates;
                }
            }
            return null;
        }

        function addMarkers(locations) {
            locations.forEach(location => {
                const coords = location.coords.split(',').map(Number);
                const position = {lat: coords[0], lng: coords[1]};

                const marker = new google.maps.marker.AdvancedMarkerElement({
                    map: map,
                    position: position,
                });
                markers.push(marker);
            });
        }

        function resetMap() {
            markers.forEach(marker => marker.map = null);
            markers = [];
            if (cityPolygon) {
                cityPolygon.setMap(null);
                cityPolygon = null;
            }
            map.setCenter({lat: 16.159434, lng: 106.628482});
            map.setZoom(6.3);
        }

        function fetchSubRegions(regionId) {
            $.ajax({
                url: '/api/map/v1?regionId=' + regionId,
                method: 'GET',
                success: function (data) {
                    let subRegionList = '';
                    data.forEach(subRegion => {
                        subRegionList += `<li data-coords=${subRegion.coords}>${subRegion.name}</li>`;
                    });
                    $(`#region-${regionId}`).html(subRegionList);
                },
                error: function (xhr, status, error) {
                    console.error('Error fetching sub-regions:', error);
                }
            });
        }


        function drawPolygon(polygonCoords) {
            if (cityPolygon) {
                cityPolygon.setMap(null); // Xa polygon c
            }

            cityPolygon = new google.maps.Polygon({
                paths: polygonCoords,
                strokeColor: '#0000ff',
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: '#ffffff',
                fillOpacity: 0.35,
                map: map
            });

            const bounds = new google.maps.LatLngBounds();
            polygonCoords.forEach(coord => bounds.extend(coord));
            map.fitBounds(bounds);
        }

        $(document).ready(function () {
            $('ul#regions > li').each(function () {
                const regionId = $(this).data('region-id');
                fetchSubRegions(regionId);
            });

            $('.sidebar').on('click', '.territory', function (event) {
                event.stopPropagation();
                resetMap();
                let regionId = $(this).data('region-id');

                $.ajax({
                    url: '/api/map/v1?regionId=' + regionId,
                    method: 'GET',
                    success: function (data) {
                        console.log("Markers for territory:", data);
                        addMarkers(data);
                    },
                    error: function (xhr, status, error) {
                        console.error('Error fetching coordinates:', error);
                    }
                });
            });

            $('.sidebar').on('click', '.sub-region li', function (event) {
                event.stopPropagation();
                const cityName = $(this).text().trim();
                const coordinates = findPolygonCoordinates(cityName);
                if (coordinates) {
                    if (Array.isArray(coordinates[0][0][0])) {
                        coordinates.forEach(polygon => {
                            const polygonCoords = polygon[0].map(coord => ({lat: coord[1], lng: coord[0]}));
                            drawPolygon(polygonCoords);
                        });
                    } else {
                        const polygonCoords = coordinates[0].map(coord => ({lat: coord[1], lng: coord[0]}));
                        drawPolygon(polygonCoords);
                    }
                } else {
                    console.warn('Khng tm thy polygon cho thnh ph:', cityName);
                }
            });

            $('.reset-map').on('click', function () {
                resetMap();
            });
        });
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA7bcLgaS8N_W2plAJq7z3MudgXNlF2V4A&map_ids=&loading=async&libraries=marker,places,maps&callback=initMap"
            defer></script>
</head>
<body>
<div class="container">
    <div class="sidebar">
        <h2>Vng lnh th</h2>
        <ul id="regions">
            <li th:each="region : ${regions}" th:attr="data-region-id=${region.locationId} " class="territory">
                <span th:text="${region.name}"></span>
                <div class="sub-region" th:attr="id='region-' + ${region.locationId}"></div>
            </li>
        </ul>
        <div class="reset-map">
            <i class="fa-solid fa-arrows-rotate fa-flip-both fa-2xl" style="color: #ffffff; margin: 15px 0"></i>
        </div>
    </div>
    <div id="map" class="map"></div>
</div>
</body>
</html>
